<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº¤äº’å¼å…ƒç´ å‘¨æœŸè¡¨V0.3</title>
    <style>
        :root {
            --border-color: #cbd5e0;
            --box-size: 50px;
            /* ç¨å¾®æ”¾å¤§æ ¼å­ä»¥å®¹çº³æ±‰å­— */
            --gap-size: 4px;
            --bg-color: #f7fafc;
            --card-bg: #ffffff;
            --hover-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --reveal-bg: #f0fff4;
            /* æ­æ™“åçš„èƒŒæ™¯ */
            --mark-bg: #fecaca;
            /* é‡ç‚¹æ ‡è®°èƒŒæ™¯ */

            /* åˆ†åŒºé¢œè‰² (é»˜è®¤æ·¡é›…è‰²è°ƒ) */
            --s-block: #d1fae5;
            --p-block: #e0e7ff;
            --d-block: #fde68a;
            --f-block: #ecfccb;
            --ds-block: #bfdbfe;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans SC", sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: var(--bg-color);
            margin: 0;
            padding: 20px;
            color: #2d3748;
            user-select: none;
        }

        /* æ§åˆ¶é¢æ¿ */
        .controls {
            margin-bottom: 20px;
            background: white;
            padding: 15px 25px;
            border-radius: 16px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            justify-content: center;
            border: 1px solid #edf2f7;
            max-width: 900px;
        }

        .control-group {
            display: flex;
            gap: 8px;
            padding: 0 10px;
            border-right: 1px solid #edf2f7;
            align-items: center;
        }

        .control-group:last-child {
            border-right: none;
        }

        .control-label {
            font-size: 12px;
            color: #718096;
            font-weight: bold;
            margin-right: 5px;
        }

        button {
            padding: 8px 14px;
            cursor: pointer;
            background-color: #fff;
            color: #4a5568;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            font-size: 13px;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 6px;
            font-weight: 500;
        }

        button:hover {
            background-color: #edf2f7;
            border-color: #cbd5e0;
            transform: translateY(-1px);
        }

        button.active {
            background-color: #ebf8ff;
            border-color: #4299e1;
            color: #2b6cb0;
            box-shadow: 0 0 0 1px #4299e1 inset;
        }

        /* å‘¨æœŸè¡¨å®¹å™¨ */
        .periodic-table-container {
            position: relative;
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        .periodic-table {
            display: grid;
            grid-template-columns: repeat(18, var(--box-size));
            grid-template-rows: repeat(10, var(--box-size));
            gap: var(--gap-size);
            margin-bottom: 20px;
        }

        /* å…ƒç´ æ ¼å­ */
        .element {
            border: 1px solid var(--border-color);
            border-radius: 6px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            background: var(--card-bg);
            box-sizing: border-box;
            height: 100%;
            width: 100%;
            cursor: pointer;
            transition: transform 0.15s ease, box-shadow 0.15s ease, background-color 0.2s;
        }

        .element:hover {
            z-index: 10;
            box-shadow: var(--hover-shadow);
            transform: scale(1.1);
            border-color: #a0aec0;
        }

        /* çŠ¶æ€æ ·å¼ */
        .element.is-revealed {
            background-color: var(--reveal-bg);
            border-color: #9ae6b4;
        }

        .element.is-marked {
            background-color: var(--mark-bg);
            border-color: #f56565;
        }

        .element.is-marked.is-revealed {
            background-color: #fecaca;
        }

        /* æ··åˆè‰² */

        /* å†…å®¹å…ƒç´  */
        .atomic-number {
            position: absolute;
            top: 2px;
            left: 3px;
            font-size: 9px;
            color: #718096;
            opacity: 0;
            transition: opacity 0.2s;
        }

        .symbol {
            font-size: 16px;
            font-weight: 700;
            color: #2d3748;
            line-height: 1.1;
            opacity: 0;
            transition: opacity 0.2s;
        }

        .hanzi {
            font-size: 11px;
            color: #4a5568;
            margin-top: 1px;
            opacity: 0;
            transition: opacity 0.2s;
        }

        /* æ˜¾éšé€»è¾‘ */
        /* å…¨å±€å¼€å…³ */
        .show-number .atomic-number {
            opacity: 1;
        }

        .show-symbol .symbol {
            opacity: 1;
        }

        .show-hanzi .hanzi {
            opacity: 1;
        }

        /* å•ä¸ªæ­æ™“ (æœ€é«˜ä¼˜å…ˆçº§) */
        .element.is-revealed .atomic-number,
        .element.is-revealed .symbol,
        .element.is-revealed .hanzi {
            opacity: 1 !important;
        }

        /* é˜¶æ¢¯çº¿ */
        .show-staircase .element[data-stair="true"] {
            border-bottom: 3px solid #f56565;
            border-right: 3px solid #f56565;
        }

        /* åˆ†åŒºç€è‰²æ¨¡å¼ */
        .show-zones .element[data-block="s"] {
            background-color: var(--s-block);
        }

        .show-zones .element[data-block="p"] {
            background-color: var(--p-block);
        }

        .show-zones .element[data-block="d"] {
            background-color: var(--d-block);
        }

        .show-zones .element[data-block="ds"] {
            background-color: var(--ds-block);
        }

        .show-zones .element[data-block="f"] {
            background-color: var(--f-block);
        }

        /* ä¿æŒæ ‡è®°çš„é«˜äº®è¦†ç›–åˆ†åŒºè‰² */
        .show-zones .element.is-marked {
            background-color: var(--mark-bg) !important;
        }

        .show-zones .element.is-revealed {
            filter: brightness(0.95);
        }

        /* æ­æ™“æ—¶ç¨å¾®å˜æš—ä¸€ç‚¹ç‚¹ä»¥ç¤ºåŒºåˆ« */

        /* æ‰¹æ³¨åŒº */
        .teaching-notes {
            margin-top: 10px;
            width: 100%;
            box-sizing: border-box;
            border: 2px dashed #e2e8f0;
            padding: 20px;
            border-radius: 12px;
            background: #f8fafc;
            color: #4a5568;
            min-height: 60px;
        }

        .teaching-notes:focus-within {
            border-color: #4299e1;
            background: #fff;
        }

        .series-label {
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 8px;
            font-size: 11px;
            color: #718096;
            font-weight: 500;
        }

        /* æç¤ºæ  */
        .status-bar {
            display: flex;
            justify-content: space-between;
            width: 100%;
            max-width: 900px;
            margin-bottom: 10px;
            font-size: 13px;
            color: #718096;
        }

        .legend span {
            margin-left: 15px;
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }

        .dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            display: inline-block;
        }
    </style>
</head>

<body>

    <div class="controls">
        <div class="control-group">
            <span class="control-label">æç¤º</span>
            <button id="btn-num" onclick="toggleGlobal('number')">ğŸ”¢ åºå·</button>
            <button id="btn-zones" onclick="toggleGlobal('zones')">ğŸ¨ åˆ†åŒº (s/p/d/f)</button>
            <button id="btn-stair" onclick="toggleGlobal('staircase')">ğŸ“‰ é‡‘å±åˆ†ç•Œ</button>
        </div>

        <div class="control-group">
            <span class="control-label">ç­”æ¡ˆ</span>
            <button id="btn-sym" onclick="toggleGlobal('symbol')">ğŸ”  ç¬¦å·</button>
            <button id="btn-hanzi" onclick="toggleGlobal('hanzi')">ğŸ‡¨ğŸ‡³ æ±‰å­—</button>
        </div>

        <div class="control-group">
            <button onclick="resetTable()" style="color: #e53e3e; border-color: #e53e3e;">ğŸ—‘ï¸ é‡ç½®</button>
        </div>
    </div>

    <div class="status-bar">
        <div class="instructions">ğŸ–±ï¸ å·¦é”®ï¼šæ­æ™“å•æ ¼ | å³é”®ï¼šæ ‡è®°éš¾ç‚¹</div>
        <div class="legend">
            <span><i class="dot" style="background:var(--s-block)"></i> såŒº</span>
            <span><i class="dot" style="background:var(--p-block)"></i> påŒº</span>
            <span><i class="dot" style="background:var(--d-block)"></i> dåŒº</span>
            <span><i class="dot" style="background:var(--ds-block)"></i> dsåŒº</span>
            <span><i class="dot" style="background:var(--f-block)"></i> fåŒº</span>
        </div>
    </div>

    <div class="periodic-table-container">
        <div class="periodic-table" id="table">
            <!-- JS ç”Ÿæˆ -->
        </div>

        <div class="teaching-notes" contenteditable="true">
            <div style="font-weight:bold; margin-bottom:5px;">ğŸ“ è¯¾å ‚æ¿ä¹¦ / ä»»åŠ¡å‘å¸ƒåŒº:</div>
            1. å¼€å¯â€œæ±‰å­—â€å¼€å…³ï¼Œå°è¯•é»˜å†™å¯¹åº”çš„åŒ–å­¦ç¬¦å·ã€‚<br>
            2. å¼€å¯â€œåˆ†åŒºâ€åŠŸèƒ½ï¼Œè§‚å¯Ÿè¿‡æ¸¡é‡‘å±ï¼ˆdåŒºï¼‰çš„ä½ç½®åˆ†å¸ƒã€‚<br>
            3. å³é”®æ ‡è®°å‡ºæ‰€æœ‰çš„â€œç¨€æœ‰æ°”ä½“â€ã€‚
        </div>
    </div>

    <script>
        // æ•°æ®æ ¼å¼: [åºæ•°, ç¬¦å·, æ±‰å­—, è¡Œ, åˆ—, åˆ†åŒº(s/p/d/f), æ˜¯å¦ä¸ºé‡‘å±åˆ†ç•Œç‚¹]
        // såŒº: 1, 2åˆ—; påŒº: 13-18åˆ—(å«He); dåŒº: 3-12åˆ—; dsåŒº: ç¬¬11-12åˆ—; fåŒº: é•§ç³»é”•ç³»
        const elementsData = [
            [1, "H", "æ°¢", 1, 1, "s"], [2, "He", "æ°¦", 1, 18, "p"],
            [3, "Li", "é”‚", 2, 1, "s"], [4, "Be", "é“", 2, 2, "s"], [5, "B", "ç¡¼", 2, 13, "p", true], [6, "C", "ç¢³", 2, 14, "p"], [7, "N", "æ°®", 2, 15, "p"], [8, "O", "æ°§", 2, 16, "p"], [9, "F", "æ°Ÿ", 2, 17, "p"], [10, "Ne", "æ°–", 2, 18, "p"],
            [11, "Na", "é’ ", 3, 1, "s"], [12, "Mg", "é•", 3, 2, "s"], [13, "Al", "é“", 3, 13, "p", true], [14, "Si", "ç¡…", 3, 14, "p", true], [15, "P", "ç£·", 3, 15, "p"], [16, "S", "ç¡«", 3, 16, "p"], [17, "Cl", "æ°¯", 3, 17, "p"], [18, "Ar", "æ°©", 3, 18, "p"],
            [19, "K", "é’¾", 4, 1, "s"], [20, "Ca", "é’™", 4, 2, "s"], [21, "Sc", "é’ª", 4, 3, "d"], [22, "Ti", "é’›", 4, 4, "d"], [23, "V", "é’’", 4, 5, "d"], [24, "Cr", "é“¬", 4, 6, "d"], [25, "Mn", "é”°", 4, 7, "d"], [26, "Fe", "é“", 4, 8, "d"], [27, "Co", "é’´", 4, 9, "d"], [28, "Ni", "é•", 4, 10, "d"], [29, "Cu", "é“œ", 4, 11, "ds"], [30, "Zn", "é”Œ", 4, 12, "ds"], [31, "Ga", "é•“", 4, 13, "p"], [32, "Ge", "é”—", 4, 14, "p", true], [33, "As", "ç ·", 4, 15, "p", true], [34, "Se", "ç¡’", 4, 16, "p"], [35, "Br", "æº´", 4, 17, "p"], [36, "Kr", "æ°ª", 4, 18, "p"],
            [37, "Rb", "é“·", 5, 1, "s"], [38, "Sr", "é”¶", 5, 2, "s"], [39, "Y", "é’‡", 5, 3, "d"], [40, "Zr", "é”†", 5, 4, "d"], [41, "Nb", "é“Œ", 5, 5, "d"], [42, "Mo", "é’¼", 5, 6, "d"], [43, "Tc", "é”", 5, 7, "d"], [44, "Ru", "é’Œ", 5, 8, "d"], [45, "Rh", "é“‘", 5, 9, "d"], [46, "Pd", "é’¯", 5, 10, "d"], [47, "Ag", "é“¶", 5, 11, "ds"], [48, "Cd", "é•‰", 5, 12, "ds"], [49, "In", "é“Ÿ", 5, 13, "p"], [50, "Sn", "é”¡", 5, 14, "p"], [51, "Sb", "é”‘", 5, 15, "p", true], [52, "Te", "ç¢²", 5, 16, "p", true], [53, "I", "ç¢˜", 5, 17, "p"], [54, "Xe", "æ°™", 5, 18, "p"],
            [55, "Cs", "é“¯", 6, 1, "s"], [56, "Ba", "é’¡", 6, 2, "s"],
        /* é•§ç³»å ä½ */[72, "Hf", "é“ª", 6, 4, "d"], [73, "Ta", "é’½", 6, 5, "d"], [74, "W", "é’¨", 6, 6, "d"], [75, "Re", "é“¼", 6, 7, "d"], [76, "Os", "é”‡", 6, 8, "d"], [77, "Ir", "é“±", 6, 9, "d"], [78, "Pt", "é“‚", 6, 10, "d"], [79, "Au", "é‡‘", 6, 11, "ds"], [80, "Hg", "æ±", 6, 12, "ds"], [81, "Tl", "é“Š", 6, 13, "p"], [82, "Pb", "é“…", 6, 14, "p"], [83, "Bi", "é“‹", 6, 15, "p"], [84, "Po", "é’‹", 6, 16, "p", true], [85, "At", "ç ¹", 6, 17, "p"], [86, "Rn", "æ°¡", 6, 18, "p"],
            [87, "Fr", "é’«", 7, 1, "s"], [88, "Ra", "é•­", 7, 2, "s"],
        /* é”•ç³»å ä½ */[104, "Rf", "ğ¬¬­", 7, 4, "d"], [105, "Db", "ğ¬¬»", 7, 5, "d"], [106, "Sg", "ğ¬¬³", 7, 6, "d"], [107, "Bh", "ğ¬­›", 7, 7, "d"], [108, "Hs", "ğ¬­¶", 7, 8, "d"], [109, "Mt", "é¿", 7, 9, "d"], [110, "Ds", "ğ«Ÿ¼", 7, 10, "d"], [111, "Rg", "ï¿½", 7, 11, "ds"], [112, "Cn", "é¿”", 7, 12, "ds"], [113, "Nh", "é¿­", 7, 13, "p"], [114, "Fl", "ğ«“§", 7, 14, "p"], [115, "Mc", "é•†", 7, 15, "p"], [116, "Lv", "ğ«Ÿ·", 7, 16, "p"], [117, "Ts", "ğ«“¬", 7, 17, "p"], [118, "Og", "ğ«  ", 7, 18, "p"]
        ];

        // é•§ç³» (fåŒº)
        const lanthanides = [
            [57, "La", "é•§"], [58, "Ce", "é“ˆ"], [59, "Pr", "é•¨"], [60, "Nd", "é’•"], [61, "Pm", "é’·"], [62, "Sm", "é’"], [63, "Eu", "é“•"], [64, "Gd", "é’†"], [65, "Tb", "é“½"], [66, "Dy", "é•"], [67, "Ho", "é’¬"], [68, "Er", "é“’"], [69, "Tm", "é“¥"], [70, "Yb", "é•±"], [71, "Lu", "é•¥"]
        ];
        // é”•ç³» (fåŒº)
        const actinides = [
            [89, "Ac", "é”•"], [90, "Th", "é’"], [91, "Pa", "é•¤"], [92, "U", "é“€"], [93, "Np", "é•"], [94, "Pu", "é’š"], [95, "Am", "é•…"], [96, "Cm", "é””"], [97, "Bk", "é”«"], [98, "Cf", "é”"], [99, "Es", "é”¿"], [100, "Fm", "é•„"], [101, "Md", "é’”"], [102, "No", "é”˜"], [103, "Lr", "é“¹"]
        ];

        const tableContainer = document.getElementById('table');

        function createElementBox(num, sym, hanzi, row, col, block, isStair) {
            const div = document.createElement('div');
            div.className = 'element';
            div.style.gridRow = row;
            div.style.gridColumn = col;

            div.setAttribute('data-block', block);
            if (isStair) div.setAttribute('data-stair', 'true');

            div.innerHTML = `
            <span class="atomic-number">${num}</span>
            <span class="symbol">${sym}</span>
            <span class="hanzi">${hanzi}</span>
        `;

            div.onclick = function () {
                this.classList.toggle('is-revealed');
            };

            div.oncontextmenu = function (e) {
                e.preventDefault();
                this.classList.toggle('is-marked');
                return false;
            };

            return div;
        }

        function initTable() {
            tableContainer.innerHTML = '';

            // ä¸»æ—
            elementsData.forEach(el => {
                tableContainer.appendChild(createElementBox(el[0], el[1], el[2], el[3], el[4], el[5], el[6]));
            });

            // æ ‡ç­¾
            const labelLa = document.createElement('div');
            labelLa.className = 'series-label';
            labelLa.style.gridRow = '9'; labelLa.style.gridColumn = '1 / span 3';
            labelLa.textContent = 'é•§ç³» (57-71)';
            tableContainer.appendChild(labelLa);

            const labelAc = document.createElement('div');
            labelAc.className = 'series-label';
            labelAc.style.gridRow = '10'; labelAc.style.gridColumn = '1 / span 3';
            labelAc.textContent = 'é”•ç³» (89-103)';
            tableContainer.appendChild(labelAc);

            // é•§ç³»
            lanthanides.forEach((el, index) => {
                tableContainer.appendChild(createElementBox(el[0], el[1], el[2], 9, index + 4, "f", false));
            });
            // é”•ç³»
            actinides.forEach((el, index) => {
                tableContainer.appendChild(createElementBox(el[0], el[1], el[2], 10, index + 4, "f", false));
            });
        }

        // æ§åˆ¶é€»è¾‘
        const container = document.querySelector('.periodic-table-container');

        function toggleGlobal(mode) {
            const btnMap = {
                'number': 'btn-num',
                'symbol': 'btn-sym',
                'hanzi': 'btn-hanzi',
                'zones': 'btn-zones',
                'staircase': 'btn-stair'
            };

            const className = `show-${mode}`;
            container.classList.toggle(className);

            const btn = document.getElementById(btnMap[mode]);
            if (container.classList.contains(className)) {
                btn.classList.add('active');
            } else {
                btn.classList.remove('active');
            }
        }

        function resetTable() {
            // æ¸…é™¤æ‰€æœ‰å…¨å±€çŠ¶æ€ç±»
            const classes = ['show-number', 'show-symbol', 'show-hanzi', 'show-zones', 'show-staircase'];
            classes.forEach(c => container.classList.remove(c));

            // é‡ç½®æŒ‰é’®çŠ¶æ€
            document.querySelectorAll('.controls button').forEach(btn => btn.classList.remove('active'));

            // é‡ç½®æ ¼å­ä¸ªåˆ«çŠ¶æ€
            const allElements = document.querySelectorAll('.element');
            allElements.forEach(el => {
                el.classList.remove('is-revealed');
                el.classList.remove('is-marked');
            });
        }

        initTable();
    </script>

</body>

</html>